<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Lynx Apartments – Instructions</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Poppins:400,600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --lynx-blue: #0078d7;
        --lynx-yellow: #ffe066;
        --lynx-bg: #f5f5f5;
        --lynx-dark: #23272a;
        --lynx-card: #ffffff;
        --lynx-shadow: 0 4px 12px
          rgba(0, 0, 0, 0.12);
        --nav-bg: rgba(30, 32, 34, 0.92);
        --nav-text: #fff;
        --nav-accent: #ffe066;
        --nav-shadow: 0 2px 8px
          rgba(0, 0, 0, 0.12);
        --nav-height: 62px;
        --nav-radius: 16px;
      }
      html,
      body {
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        box-sizing: border-box;
      }
      body {
        font-family: "Roboto", Arial, sans-serif;
        background: var(--lynx-bg);
        color: var(--lynx-dark);
        min-height: 100vh;
        box-sizing: border-box;
        padding-top: 52px;
      }
      .header {
        background: var(--lynx-card);
        box-shadow: var(--lynx-shadow);
        padding: 24px 0 12px 0;
        text-align: center;
      }
      .lynx-logo {
        width: 90px;
        margin-bottom: 8px;
      }
      .guidebooks-title {
        font-size: 2rem;
        font-weight: bold;
        color: var(--lynx-yellow);
        margin-top: 12px;
        margin-bottom: 8px;
      }
      .main-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 32px auto 0 auto;
        max-width: 900px;
        padding: 0 12px;
      }
      .card {
        background: var(--lynx-card);
        border-radius: 16px;
        box-shadow: var(--lynx-shadow);
        border: 1px solid rgba(0, 0, 0, 0.05);
        padding: 28px 24px 20px 24px;
        width: 100%;
        max-width: 780px;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        position: relative;
        margin-bottom: 48px;
      }
      .card-title {
        font-family: "Poppins", Arial, sans-serif;
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 18px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .carousel {
        width: 100%;
        background: #454337;
        border-radius: 14px;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        margin-bottom: 12px;
        position: relative;
        overflow-x: auto;
        overflow-y: hidden;
        gap: 16px;
        padding: 8px 0;
        box-shadow: 0 4px 16px
          rgba(232, 5, 5, 0.1);
      }
      .carousel-slide {
        position: relative;
        flex: 0 0 90%;
        max-width: 420px;
        aspect-ratio: 16/9;
        border-radius: 14px;
        overflow: hidden;
        box-shadow: 0 2px 12px
          rgba(239, 132, 132, 0.13);
        margin: 0 8px;
        background: #23272a; /* matches list background exactly */
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.3s
            cubic-bezier(0.4, 2, 0.6, 1),
          box-shadow 0.2s;
      }
      body.dark-mode .carousel-slide {
        background: #23272a;
      }
      .carousel-slide:focus-within,
      .carousel-slide:hover {
        transform: scale(1.025);
        box-shadow: 0 6px 24px rgba(0, 0, 0, 0.18);
        z-index: 2;
      }
      .gallery-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 14px;
        transition: object-position 0.3s,
          filter 0.2s;
        display: block;
        background: transparent;
      }
      .gallery-caption {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0;
        font-size: 1rem;
        color: #fafafa;
        background: rgba(0, 0, 0, 0.55);
        font-weight: 600;
        text-align: left;
        box-shadow: 0 2px 8px #454337;
        margin: 0;
        z-index: 3;
        line-height: 1.4;
        padding: 12px 18px 14px 18px;
        border-radius: 0 0 14px 14px;
        text-shadow: 0 2px 8px rgba(0, 0, 0, 0.18);
        backdrop-filter: blur(4px);
        transition: background 0.2s, color 0.2s;
      }
      body.dark-mode .gallery-caption {
        background: rgba(0, 0, 0, 0.65);
        color: #fff;
      }
      /* Carousel controls */
      .carousel-control {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: #454337;
        border: none;
        border-radius: 50%;
        width: 138px;
        height: 38px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: #23272a;
        box-shadow: 0 2px 8px
          rgba(69, 67, 55, 0.85);
        cursor: pointer;
        z-index: 10;
        opacity: 0;
        transition: opacity 0.2s, background 0.2s;
      }
      .carousel:hover .carousel-control,
      .carousel:focus-within .carousel-control {
        opacity: 1;
      }
      .carousel-control.prev {
        left: 8px;
      }
      .carousel-control.next {
        right: 8px;
      }
      .carousel-control:active {
        background: #454337;
        color: #23272a;
      }
      @media (max-width: 700px) {
        .carousel {
          gap: 8px;
          padding: 4px 0;
        }
        .carousel-slide {
          max-width: 98vw;
          min-width: 90vw;
          aspect-ratio: 16/9;
          margin: 0 2px;
        }
        .gallery-image {
          height: 100%;
          min-height: 160px;
          max-height: 220px;
        }
        .gallery-caption {
          font-size: 0.98rem;
          padding: 10px 12px 12px 12px;
        }
        .carousel-control {
          width: 32px;
          height: 32px;
          font-size: 1.2rem;
        }
      }
      .carousel-placeholder {
        color: #454337;
        font-size: 1.1rem;
        text-align: center;
      }
      .checkin-gallery {
        display: flex;
        flex-direction: row;
        gap: 16px;
        width: 100%;
        overflow-x: auto;
        overflow-y: hidden;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        scrollbar-color: var(--lynx-yellow)
          transparent;
      }
      .checkin-gallery::-webkit-scrollbar {
        height: 6px;
      }
      .checkin-gallery::-webkit-scrollbar-track {
        background: rgba(216, 40, 40, 0.1);
        border-radius: 3px;
      }
      .checkin-gallery::-webkit-scrollbar-thumb {
        background: var(--lynx-yellow);
        border-radius: 3px;
      }
      .gallery-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-width: 280px;
        flex-shrink: 0;
        scroll-snap-align: start;
      }
      .gallery-image {
        width: 100%;
        max-width: 100%;
        height: 400px;
        object-fit: cover;
        object-position: var(
          --img-focus-mobile,
          center
        );
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        margin-bottom: 8px;
        cursor: pointer;
        transition: transform 0.2s ease,
          box-shadow 0.2s ease,
          object-position 0.3s ease;
      }
      .gallery-image:hover {
        transform: scale(1.02);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      /* Enhanced focus positioning classes */
      .gallery-image.focus-top {
        --img-focus-mobile: center top;
      }
      .gallery-image.focus-bottom {
        --img-focus-mobile: center bottom;
      }
      .gallery-image.focus-left {
        --img-focus-mobile: left center;
      }
      .gallery-image.focus-right {
        --img-focus-mobile: right center;
      }
      .gallery-image.focus-top-left {
        --img-focus-mobile: left top;
      }
      .gallery-image.focus-top-right {
        --img-focus-mobile: right top;
      }
      .gallery-image.focus-bottom-left {
        --img-focus-mobile: left bottom;
      }
      .gallery-image.focus-bottom-right {
        --img-focus-mobile: right bottom;
      }

      /* Custom focus positions for specific images */
      .gallery-image.focus-hallway {
        --img-focus-mobile: center 30%;
      }
      .gallery-image.focus-elevator {
        --img-focus-mobile: center 40%;
      }
      .gallery-image.focus-door {
        --img-focus-mobile: center 35%;
      }
      .gallery-image.focus-bin {
        --img-focus-mobile: center 45%;
      }
      .gallery-caption {
        font-size: 0.9rem;
        color: #666;
        text-align: center;
        font-weight: 500;
        padding: 4px 8px;
        background: rgba(255, 224, 102, 0.1);
        border-radius: 6px;
        margin-bottom: 8px;
        max-width: 100%;
        word-wrap: break-word;
      }
      body.dark-mode .gallery-caption {
        color: #ccc;
        background: rgba(255, 224, 102, 0.15);
      }
      @media (min-width: 768px) {
        .checkin-gallery {
          flex-direction: row;
          gap: 12px;
          overflow-x: visible;
          scroll-snap-type: none;
        }
        .gallery-item {
          flex: 1;
          min-width: auto;
        }
        .gallery-image {
          height: 160px;
          object-fit: cover;
          object-position: var(
            --img-focus-desktop,
            center
          );
        }

        /* Desktop shows more context - less aggressive focusing */
        .gallery-image.focus-top {
          --img-focus-desktop: center 20%;
        }
        .gallery-image.focus-bottom {
          --img-focus-desktop: center 80%;
        }
        .gallery-image.focus-left {
          --img-focus-desktop: 20% center;
        }
        .gallery-image.focus-right {
          --img-focus-desktop: 80% center;
        }
        .gallery-image.focus-top-left {
          --img-focus-desktop: 20% 20%;
        }
        .gallery-image.focus-top-right {
          --img-focus-desktop: 80% 20%;
        }
        .gallery-image.focus-bottom-left {
          --img-focus-desktop: 20% 80%;
        }
        .gallery-image.focus-bottom-right {
          --img-focus-desktop: 80% 80%;
        }

        /* Custom desktop focus positions */
        .gallery-image.focus-hallway {
          --img-focus-desktop: center 25%;
        }
        .gallery-image.focus-elevator {
          --img-focus-desktop: center 35%;
        }
        .gallery-image.focus-door {
          --img-focus-desktop: center 30%;
        }
        .gallery-image.focus-bin {
          --img-focus-desktop: center 40%;
        }
      }

      /* Modal styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        backdrop-filter: blur(5px);
      }
      .modal-content {
        position: relative;
        margin: auto;
        padding: 20px;
        width: 90%;
        max-width: 800px;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      .modal-image {
        max-width: 100%;
        max-height: 70vh;
        object-fit: contain;
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
      }
      .modal-caption {
        color: white;
        font-size: 1.1rem;
        text-align: center;
        margin-top: 20px;
        padding: 12px 20px;
        background: rgba(255, 224, 102, 0.2);
        border-radius: 8px;
        backdrop-filter: blur(10px);
      }
      .modal-close {
        position: absolute;
        top: 20px;
        right: 30px;
        color: white;
        font-size: 40px;
        font-weight: bold;
        cursor: pointer;
        z-index: 2001;
        width: 50px;
        height: 50px;
        border-radius: 25px;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s ease;
      }
      .modal-close:hover {
        background: rgba(255, 224, 102, 0.8);
        color: #23272a;
      }
      .modal-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: none;
        font-size: 24px;
        padding: 15px 20px;
        cursor: pointer;
        border-radius: 8px;
        transition: background 0.2s ease;
      }
      .modal-nav:hover {
        background: rgba(255, 224, 102, 0.8);
        color: #23272a;
      }
      .modal-prev {
        left: 20px;
      }
      .modal-next {
        right: 20px;
      }
      @media (max-width: 600px) {
        .modal-content {
          padding: 10px;
        }
        .modal-image {
          max-height: 60vh;
        }
        .modal-close {
          top: 10px;
          right: 15px;
          font-size: 30px;
          width: 40px;
          height: 40px;
        }
        .modal-nav {
          font-size: 20px;
          padding: 12px 16px;
        }
        .modal-prev {
          left: 10px;
        }
        .modal-next {
          right: 10px;
        }
      }

      /* Video Modal Styles */
      .video-modal-content {
        max-width: 100vw;
        max-height: 100vh;
        padding: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
      }

      .modal-video {
        width: 100%;
        max-width: 100%;
        height: auto;
        max-height: 90vh;
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        box-sizing: border-box;
      }

      .video-modal-close {
        position: absolute;
        top: 10px;
        right: 20px;
        color: white;
        font-size: 40px;
        font-weight: bold;
        cursor: pointer;
        z-index: 2001;
        width: 50px;
        height: 50px;
        border-radius: 25px;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s ease;
      }

      .video-modal-close:hover {
        background: rgba(255, 224, 102, 0.8);
        color: #23272a;
      }

      @media (max-width: 600px) {
        .video-modal-content {
          padding: 10px;
          max-width: 95vw;
          max-height: 95vh;
        }

        .video-modal-close {
          top: 5px;
          right: 10px;
          font-size: 30px;
          width: 40px;
          height: 40px;
        }
      }

      .footer {
        background: var(--lynx-dark);
        color: var(--lynx-yellow);
        text-align: center;
        padding: 40px 10px 60px 10px;
        font-size: 1.08rem;
        font-family: "Poppins", Arial, sans-serif;
        z-index: 100;
        box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.08);
        letter-spacing: 0.5px;
      }
      @media (max-width: 700px) {
        .main-content {
          max-width: 100vw;
          width: 100%;
          box-sizing: border-box;
        }
        .card {
          max-width: 100vw;
          width: 100%;
        }
        .address-card,
        #main-content,
        .disclaimer-section {
          max-width: 100vw;
          width: 100%;
          margin-left: 0;
          margin-right: 0;
          box-sizing: border-box;
        }
        .carousel {
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;
        }
        .gallery-image {
          object-fit: contain;
          height: 180px;
          max-width: 100%;
          width: 100%;
          background: #eaeaea;
        }
        .gallery-item {
          min-width: 0;
          width: 100%;
          align-items: center;
        }
      }
      body.dark-mode {
        background: #23272a;
        color: #f3f3f3;
      }
      body.dark-mode .card {
        background: #2a2d30;
        color: #f3f3f3;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.35);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      body.dark-mode .footer {
        background: #23272a;
        color: #ffe066;
      }
      body.dark-mode .card-title {
        color: #ffe066;
      }

      body.dark-mode #theme-toggle {
        background: var(--nav-bg);
        color: var(--lynx-yellow);
        border-color: rgba(255, 255, 255, 0.2);
      }
      .navbar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: var(--nav-height);
        background: var(--nav-bg);
        color: var(--nav-text);
        display: flex;
        align-items: center;
        justify-content: space-between;
        z-index: 1000;
        box-shadow: var(--nav-shadow);
        padding: 0 24px;
        backdrop-filter: blur(8px);
      }
      .nav-left {
        display: flex;
        align-items: center;
        gap: 18px;
      }
      .nav-home {
        background: none;
        border: none;
        color: var(--nav-accent);
        font-size: 1.1rem;
        font-weight: 700;
        font-family: "Poppins", Arial, sans-serif;
        cursor: pointer;
        padding: 6px 16px;
        border-radius: 8px;
        transition: background 0.18s, color 0.18s;
      }
      .nav-home:hover,
      .nav-home:focus {
        background: var(--nav-accent);
        color: #23272a;
        outline: none;
      }
      .nav-right {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      /* Theme Toggle Button */
      #theme-toggle {
        position: absolute;
        top: 15px;
        right: 15px;
        width: 48px;
        height: 48px;
        border-radius: 12px;
        border: 2px solid rgba(0, 0, 0, 0.1);
        background: var(--lynx-card);
        color: var(--lynx-dark);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.25rem;
        transition: var(--lynx-transition);
        box-shadow: var(--lynx-shadow);
      }

      #theme-toggle:hover {
        transform: translateY(-2px);
        box-shadow: var(--lynx-shadow-hover);
        border-color: var(--lynx-blue);
      }

      #theme-toggle:focus {
        outline: none;
        box-shadow: 0 0 0 3px
          rgba(0, 120, 215, 0.2);
      }

      #theme-toggle:active {
        transform: translateY(0);
      }

      @media (max-width: 600px) {
        .navbar {
          padding: 0 8px;
          height: 54px;
        }
        .nav-home {
          font-size: 1rem;
          padding: 4px 10px;
        }
        #theme-toggle {
          font-size: 1.2rem;
          top: 8px;
          width: 40px;
          height: 40px;
        }
      }
      .hero-section {
        width: 100%;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      .hero-bg-full {
        width: 100%;
        height: 390px;
        margin: 0;
        background: url("https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=1000&q=80")
          center center/cover no-repeat;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .hero-overlay-full {
        width: 100%;
        height: 390px;
        background: rgba(24, 26, 27, 0.45);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        position: relative;
        z-index: 2;
        padding: 0 16px;
      }
      .hero-logo-full {
        width: 100px;
        margin-bottom: 18px;
        filter: drop-shadow(
          0 2px 8px rgba(0, 0, 0, 0.25)
        );
      }
      .hero-title {
        color: #ffe066;
        font-size: 2.5rem;
        font-weight: bold;
        text-align: center;
        margin-bottom: 12px;
        text-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);
      }
      .hero-subtitle {
        color: #f3f3f3;
        font-size: 1.15rem;
        text-align: center;
        font-weight: 500;
        text-shadow: 0 1px 6px rgba(0, 0, 0, 0.18);
        max-width: 600px;
        margin: 0 auto;
      }
      @media (max-width: 1200px) {
        .hero-bg-full,
        .hero-overlay-full {
          width: 100vw;
        }
      }
      @media (max-width: 600px) {
        .hero-bg-full,
        .hero-overlay-full {
          height: 260px;
        }
        .hero-overlay-full {
          padding: 0 8px;
        }
        .hero-logo-full {
          width: 60px;
          margin-bottom: 10px;
        }
        .hero-title {
          font-size: 1.3rem;
        }
        .hero-subtitle {
          font-size: 0.98rem;
        }
      }
      .lynx-name-emphasized {
        font-size: 1.2rem;
        font-weight: 700;
        color: var(--lynx-yellow);
        margin-top: 4px;
        letter-spacing: 0.5px;
        text-align: center;
      }
      @media (max-width: 600px) {
        .lynx-name-emphasized {
          font-size: 1.05rem;
        }
      }
      .address-card,
      #main-content,
      .disclaimer-section {
        max-width: 900px;
        margin: 24px auto;
        padding-left: 12px;
        padding-right: 12px;
        box-sizing: border-box;
      }

      /* Dropdown styles */
      .dropdown-container {
        margin-top: 16px;
        width: 100%;
      }

      .dropdown-button {
        background: linear-gradient(
          135deg,
          var(--lynx-yellow),
          #f5d752
        );
        color: var(--lynx-dark);
        border: none;
        padding: 12px 16px;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        width: 100%;
        text-align: left;
        display: flex;
        align-items: center;
        justify-content: space-between;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        position: relative;
        overflow: hidden;
      }

      .dropdown-button:hover {
        background: linear-gradient(
          135deg,
          #f5d752,
          var(--lynx-yellow)
        );
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      }

      .dropdown-button:active {
        transform: translateY(0);
      }

      .dropdown-button::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          45deg,
          transparent 30%,
          rgba(255, 255, 255, 0.1) 50%,
          transparent 70%
        );
        transform: translateX(-100%);
        transition: transform 0.6s ease;
      }

      .dropdown-button:hover::before {
        transform: translateX(100%);
      }

      .dropdown-text {
        font-size: 1rem;
        font-weight: 600;
        z-index: 1;
        position: relative;
      }

      .dropdown-arrow {
        font-size: 1.2rem;
        font-weight: bold;
        transition: transform 0.3s ease;
        z-index: 1;
        position: relative;
      }

      .dropdown-button.active .dropdown-arrow {
        transform: rotate(180deg);
      }

      .dropdown-content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease,
          padding 0.4s ease;
        background: rgba(255, 224, 102, 0.05);
        border-radius: 0 0 8px 8px;
        border: 1px solid rgba(255, 224, 102, 0.2);
        border-top: none;
      }

      .dropdown-content.active {
        max-height: 1000px;
        padding: 16px;
        padding-top: 20px;
      }
      @media (max-width: 700px) {
        .dropdown-content.active {
          max-height: 1800px;
          overflow-y: auto;
        }
      }

      .dropdown-content div {
        line-height: 1.6;
        font-size: 1rem;
        opacity: 0;
        transform: translateY(-10px);
        transition: opacity 0.3s ease 0.1s,
          transform 0.3s ease 0.1s;
      }

      .dropdown-content.active div {
        opacity: 1;
        transform: translateY(0);
      }

      body.dark-mode .dropdown-content {
        background: rgba(255, 224, 102, 0.1);
        border-color: rgba(255, 224, 102, 0.3);
      }

      body.dark-mode .dropdown-button {
        background: linear-gradient(
          135deg,
          var(--lynx-yellow),
          #f5d752
        );
        color: var(--lynx-dark);
      }

      body.dark-mode .dropdown-button:hover {
        background: linear-gradient(
          135deg,
          #f5d752,
          var(--lynx-yellow)
        );
      }

      @media (max-width: 600px) {
        .dropdown-button {
          font-size: 0.95rem;
          padding: 10px 14px;
        }
        .dropdown-text {
          font-size: 0.95rem;
        }
      }
      .carousel-slider {
        width: 100%;
        max-width: 820px;
        margin: 0 auto 18px auto;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }
      .carousel-track {
        width: 100%;
        max-width: 820px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }
      @media (max-width: 1700px) {
        .carousel-slider,
        .carousel-track {
          max-width: 100vw;
          min-width: 100vw;
        }
      }
    </style>
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-left">
        <button
          class="nav-home"
          onclick="location.href='home.html'"
        >
          Home
        </button>
      </div>
      <div class="nav-right">
        <button
          id="theme-toggle"
          aria-label="Toggle dark mode"
        >
          🌙
        </button>
      </div>
    </nav>
    <section class="hero-section">
      <div class="hero-bg-full">
        <div class="hero-overlay-full">
          <img
            src="logo-lynx-dark.png"
            alt="Lynx Logo"
            class="hero-logo-full"
            id="hero-logo"
          />
          <h1 class="hero-title">
            How-To & Apartment Instructions
          </h1>
          <p class="hero-subtitle">
            Step-by-step visual guides for sofa
            bed assembly, trash disposal, boiler
            operation, and more at Lynx Apartment.
          </p>
          <p class="lynx-name-emphasized">
            Lynx Apartment
          </p>
        </div>
      </div>
    </section>
    <div class="main-content">
      <div class="card">
        <div class="card-title">
          🚗 Garage Access & Parking Info!
        </div>
        <div class="dropdown-container">
          <button
            class="dropdown-button"
            onclick="toggleDropdown(this)"
          >
            <span class="dropdown-text"
              >Instructions</span
            >
            <span class="dropdown-arrow">▼</span>
          </button>
          <div class="dropdown-content">
            <div
              style="
                line-height: 1.6;
                font-size: 1rem;
              "
            >
              <div class="carousel">
                <div
                  class="carousel-slider"
                  data-carousel="garage"
                >
                  <button
                    class="carousel-control prev"
                    aria-label="Previous image"
                  >
                    &#8249;
                  </button>
                  <div class="carousel-track">
                    <div class="carousel-slide">
                      <img
                        src="public/garage-spot-1.jpg"
                        alt="Entrance to the Cevahir Complex main ramp gate"
                        class="gallery-image"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Entrance to the Cevahir
                        Complex main ramp gate
                      </div>
                    </div>
                    <div class="carousel-slide">
                      <img
                        src="public/garage-spot-2.jpg"
                        alt="Use the providet TAG to open the main ramp "
                        class="gallery-image"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Use the providet TAG to
                        open the main ramp
                      </div>
                    </div>
                    <div class="carousel-slide">
                      <img
                        src="public/garage-spot-3.jpg"
                        alt="Driving down to Level -2 in the garage"
                        class="gallery-image"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Entrance to the
                        underground garage
                      </div>
                    </div>
                    <div class="carousel-slide">
                      <img
                        src="public/garage-spot-4.jpg"
                        alt="Navigating to Parking Spot C109"
                        class="gallery-image"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Driving down to Level -2
                        in the garage
                      </div>
                    </div>
                    <div class="carousel-slide">
                      <img
                        src="public/garage-spot.jpg"
                        alt="Parking Spot C109 in the underground garage"
                        class="gallery-image"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Parking Spot C109 in the
                        underground garage
                      </div>
                    </div>
                  </div>
                  <button
                    class="carousel-control next"
                    aria-label="Next image"
                  >
                    &#8250;
                  </button>
                </div>
              </div>
              <ol
                style="
                  margin-top: 10px;
                  margin-bottom: 18px;
                  padding-left: 22px;
                "
              >
                <li>
                  <b>Enter the Cevahir Complex</b
                  ><br />
                  <ul
                    style="
                      margin: 4px 0 10px 18px;
                    "
                  >
                    <li>
                      Use the provided
                      <b>TAG</b> to open the main
                      ramp gate and drive into the
                      Cevahir Sky City complex.
                    </li>
                  </ul>
                </li>
                <li>
                  <b
                    >Access the Underground
                    Garage</b
                  ><br />
                  <ul
                    style="
                      margin: 4px 0 10px 18px;
                    "
                  >
                    <li>
                      Slightly to your left, you
                      will see the entrance to the
                      underground garage. Drive
                      toward this entrance.
                    </li>
                  </ul>
                </li>
                <li>
                  <b>Go to Level -2</b><br />
                  <ul
                    style="
                      margin: 4px 0 10px 18px;
                    "
                  >
                    <li>
                      Enter the garage and proceed
                      to the first underground
                      level.
                    </li>
                    <li>
                      Continue straight for a few
                      meters, then descend to
                      <b>Level -2</b>.
                    </li>
                  </ul>
                </li>
                <li>
                  <b
                    >Navigate to Parking Spot
                    C109</b
                  ><br />
                  <ul
                    style="
                      margin: 4px 0 10px 18px;
                    "
                  >
                    <li>
                      On Level -2, after passing
                      the first pillar on your
                      right, turn right.
                    </li>
                    <li>
                      Drive to the end of this
                      lane, then turn right again.
                    </li>
                    <li>
                      Immediately after, take the
                      first left.
                    </li>
                    <li>
                      After about 10–15 meters,
                      look for the parking spot
                      directly opposite a glass
                      door.
                    </li>
                  </ul>
                </li>
                <li>
                  <b>Parking Spot C109</b><br />
                  <ul
                    style="
                      margin: 4px 0 10px 18px;
                    "
                  >
                    <li>
                      The parking spot is clearly
                      marked for
                      <b>Apartment C109</b>,
                      located directly in front of
                      the glass door.
                    </li>
                  </ul>
                </li>
              </ol>
              <h4
                style="
                  color: var(--lynx-yellow);
                  margin-top: 20px;
                  margin-bottom: 10px;
                "
              >
                🎥 Video Guide:
              </h4>
              <div
                style="
                  position: relative;
                  width: 100%;
                  max-width: 820px;
                  margin: 0 auto 18px auto;
                "
              >
                <img
                  src="public/garage-spot.jpg"
                  alt="Garage access and parking video preview"
                  id="garage-video-preview"
                  style="
                    width: 100%;
                    max-width: 100%;
                    height: auto;
                    border-radius: 8px;
                    box-shadow: 0 2px 8px #454337;
                    cursor: pointer;
                    display: block;
                    box-sizing: border-box;
                  "
                  onclick="openGarageVideoModalFromPreview()"
                />
                <div
                  id="garage-video-play-overlay"
                  style="
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(
                      -50%,
                      -50%
                    );
                    background: rgba(
                      0,
                      0,
                      0,
                      0.55
                    );
                    color: #ffe066;
                    padding: 18px 22px;
                    border-radius: 50%;
                    font-size: 2.8rem;
                    pointer-events: none;
                    opacity: 0.95;
                    z-index: 2;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    box-shadow: 0 2px 8px
                      rgba(0, 0, 0, 0.18);
                  "
                >
                  ▶️
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">
          🗑️ Where to Throw the Trash
        </div>
        <div class="dropdown-container">
          <button
            class="dropdown-button"
            onclick="toggleDropdown(this)"
          >
            <span class="dropdown-text"
              >Instructions</span
            >
            <span class="dropdown-arrow">▼</span>
          </button>
          <div class="dropdown-content">
            <div
              style="
                line-height: 1.6;
                font-size: 1rem;
              "
            >
              <div
                class="carousel"
                style="margin-bottom: 20px"
              >
                <div
                  class="carousel-slider"
                  data-carousel="trash"
                >
                  <button
                    class="carousel-control prev"
                    aria-label="Previous image"
                  >
                    &#8249;
                  </button>
                  <div class="carousel-track">
                    <div class="carousel-slide">
                      <img
                        src="public/trash-1.jpg"
                        alt="Exit apartment 109 and turn right into hallway"
                        class="gallery-image focus-hallway"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Step 1: Exit apartment 109
                        and turn right into
                        hallway
                      </div>
                    </div>
                    <div class="carousel-slide">
                      <img
                        src="public/trash-2.jpg"
                        alt="Walk straight past elevators toward emergency exit"
                        class="gallery-image focus-elevator"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Step 2: Walk straight past
                        elevators toward emergency
                        exit
                      </div>
                    </div>
                    <div class="carousel-slide">
                      <img
                        src="public/trash-3.jpg"
                        alt="Enter emergency exit door with green EXIT sign"
                        class="gallery-image focus-door"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Step 3: Enter emergency
                        exit door with green EXIT
                        sign
                      </div>
                    </div>
                    <div class="carousel-slide">
                      <img
                        src="public/trash-4.jpg"
                        alt="Walk through emergency stairwell door"
                        class="gallery-image focus-door"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Step 4: Walk through
                        emergency stairwell door
                      </div>
                    </div>
                    <div class="carousel-slide">
                      <img
                        src="public/trash-5.jpg"
                        alt="Turn right in stairwell area"
                        class="gallery-image focus-right"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Step 5: Turn right in
                        stairwell area
                      </div>
                    </div>
                    <div class="carousel-slide">
                      <img
                        src="public/trash-6.jpg"
                        alt="Locate utility room door"
                        class="gallery-image focus-door"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Step 6: Locate utility
                        room door
                      </div>
                    </div>
                    <div class="carousel-slide">
                      <img
                        src="public/trash-7.jpg"
                        alt="Final destination - utility room with green wheeled bin"
                        class="gallery-image focus-bin"
                      />
                      <div
                        class="gallery-caption"
                      >
                        Step 7: Final destination
                        - utility room with green
                        wheeled bin
                      </div>
                    </div>
                  </div>
                  <button
                    class="carousel-control next"
                    aria-label="Next image"
                  >
                    &#8250;
                  </button>
                </div>
              </div>

              <p>
                In case I forgot to mention this
                during check-in — or if you simply
                need a reminder — here's where to
                dispose of your trash during your
                stay:
              </p>

              <h4
                style="
                  color: var(--lynx-yellow);
                  margin-top: 20px;
                  margin-bottom: 10px;
                "
              >
                📍 The designated trash bin is
                located in a small service room
                near the elevator on your floor.
              </h4>

              <h4
                style="
                  color: var(--lynx-yellow);
                  margin-top: 20px;
                  margin-bottom: 10px;
                "
              >
                🚶 From Apartment 109:
              </h4>
              <ul
                style="
                  margin-left: 20px;
                  margin-bottom: 16px;
                "
              >
                <li>
                  Exit and turn right into the
                  hallway
                </li>
                <li>
                  Walk straight past the elevators
                  and enter the emergency door on
                  your right (marked with an EXIT
                  sign)
                </li>
                <li>
                  Inside, you'll see another door
                  directly in front of you—open it
                </li>
                <li>
                  You'll now be in the emergency
                  stairwell area
                </li>
                <li>
                  Stay on the same floor and turn
                  right
                </li>
                <li>
                  The utility room will be just
                  ahead on your right
                </li>
                <li>
                  Inside, you'll find a green
                  wheeled bin for household waste
                </li>
              </ul>

              <h4
                style="
                  color: var(--lynx-yellow);
                  margin-top: 20px;
                  margin-bottom: 10px;
                "
              >
                📋 Important Notes:
              </h4>
              <ul
                style="
                  margin-left: 20px;
                  margin-bottom: 16px;
                "
              >
                <li>
                  <strong
                    >Please make sure all trash is
                    securely tied in bags</strong
                  >
                  before placing it in the bin.
                </li>
                <li>
                  <strong
                    >Kindly avoid leaving any
                    loose items or bags outside
                    the container.</strong
                  >
                </li>
                <li>
                  Let us know if you need extra
                  trash bags — we're happy to
                  help!
                </li>
              </ul>

              <h4
                style="
                  color: var(--lynx-yellow);
                  margin-top: 20px;
                  margin-bottom: 10px;
                "
              >
                🎥 Video Guide:
              </h4>
              <div
                style="
                  text-align: center;
                  margin-top: 16px;
                  position: relative;
                  display: inline-block;
                  width: 100%;
                  max-width: 400px;
                "
              >
                <img
                  src="public/trash-1.jpg"
                  alt="Trash disposal video preview"
                  id="trash-video-preview"
                  style="
                    width: 100%;
                    max-width: 100%;
                    height: auto;
                    border-radius: 8px;
                    box-shadow: 0 2px 8px
                      rgba(0, 0, 0, 0.1);
                    cursor: pointer;
                    display: block;
                    box-sizing: border-box;
                  "
                  onclick="openVideoModalFromPreview()"
                />
                <div
                  id="video-play-overlay"
                  style="
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(
                      -50%,
                      -50%
                    );
                    background: rgba(
                      0,
                      0,
                      0,
                      0.55
                    );
                    color: #ffe066;
                    padding: 18px 22px;
                    border-radius: 50%;
                    font-size: 2.8rem;
                    pointer-events: none;
                    opacity: 0.95;
                    z-index: 2;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    box-shadow: 0 2px 8px
                      rgba(0, 0, 0, 0.18);
                  "
                >
                  ▶️
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">
          📺 TV & Mini-Bar Mood Lighting
        </div>
        <div class="dropdown-container">
          <button
            class="dropdown-button"
            onclick="toggleDropdown(this)"
          >
            <span class="dropdown-text"
              >Instructions</span
            >
            <span class="dropdown-arrow">▼</span>
          </button>
          <div class="dropdown-content">
            <div
              style="
                line-height: 1.6;
                font-size: 1rem;
              "
            >
              <div class="carousel">
                <div class="carousel-placeholder">
                  [TV & mini-bar mood lighting
                  pictures/videos carousel here]
                </div>
              </div>
              <p>
                Instructions for operating the TV
                and mini-bar mood lighting system
                will be shown here.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">
          🛏️ Sofa Bed Assembly
        </div>
        <div class="dropdown-container">
          <button
            class="dropdown-button"
            onclick="toggleDropdown(this)"
          >
            <span class="dropdown-text"
              >Instructions</span
            >
            <span class="dropdown-arrow">▼</span>
          </button>
          <div class="dropdown-content">
            <div
              style="
                line-height: 1.6;
                font-size: 1rem;
              "
            >
              <div class="carousel">
                <div class="carousel-placeholder">
                  [Sofa bed assembly
                  pictures/videos carousel here]
                </div>
              </div>
              <p>
                Step-by-step instructions for
                assembling the sofa bed will be
                shown here.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="card-title">
          💧 Turning On/Off the Apartment Boiler
        </div>
        <div class="dropdown-container">
          <button
            class="dropdown-button"
            onclick="toggleDropdown(this)"
          >
            <span class="dropdown-text"
              >Instructions</span
            >
            <span class="dropdown-arrow">▼</span>
          </button>
          <div class="dropdown-content">
            <div
              style="
                line-height: 1.6;
                font-size: 1rem;
              "
            >
              <div class="carousel">
                <div class="carousel-placeholder">
                  [Boiler operation
                  pictures/videos carousel here]
                </div>
              </div>
              <p>
                Instructions for safely turning
                the boiler on and off will be
                shown here.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- main-content -->
    <div class="disclaimer-section">
      <div class="disclaimer-content">
        <h4>Important Notice</h4>
        <p>
          The instructions and guides above are
          provided for your convenience as helpful
          resources. Lynx Apartment and your host
          are not responsible for any damage or
          misuse of the apartment equipment.
          Please follow all instructions carefully
          and contact your host if you are unsure
          about any step.
        </p>
      </div>
    </div>
    <div class="footer" id="footer-contact">
      <span id="footer-msg">
        Need help? Contact Zoran, your Lynx
        Apartment host (call, SMS, Viber, or
        WhatsApp):
        <a
          href="tel:+38978364545"
          style="
            color: #ffe066;
            text-decoration: underline;
          "
          >+38978364545</a
        >
      </span>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="modal">
      <div class="modal-content">
        <span class="modal-close">&times;</span>
        <button class="modal-nav modal-prev">
          &#8249;
        </button>
        <img
          class="modal-image"
          id="modalImage"
          alt="Full size image"
        />
        <div
          class="modal-caption"
          id="modalCaption"
        ></div>
        <button class="modal-nav modal-next">
          &#8250;
        </button>
      </div>
    </div>

    <!-- Video Modal -->
    <div id="videoModal" class="modal">
      <div
        class="modal-content video-modal-content"
      >
        <span
          class="modal-close video-modal-close"
          >&times;</span
        >
        <video
          id="modalVideo"
          controls
          class="modal-video"
        >
          <source src="" type="video/mp4" />
          Your browser does not support the video
          tag.
        </video>
      </div>
    </div>
    <script>
      // Theme toggle logic
      const themeToggle = document.getElementById(
        "theme-toggle"
      );
      function setTheme(dark) {
        if (dark) {
          document.body.classList.add(
            "dark-mode"
          );
          themeToggle.textContent = "☀️";
          localStorage.setItem(
            "lynx-theme",
            "dark"
          );
        } else {
          document.body.classList.remove(
            "dark-mode"
          );
          themeToggle.textContent = "🌙";
          localStorage.setItem(
            "lynx-theme",
            "light"
          );
        }
      }
      themeToggle.onclick = function () {
        setTheme(
          !document.body.classList.contains(
            "dark-mode"
          )
        );
      };
      (function () {
        const saved =
          localStorage.getItem("lynx-theme");
        setTheme(saved === "dark" || !saved);
      })();

      // Image modal functionality
      const modal =
        document.getElementById("imageModal");
      const modalImage =
        document.getElementById("modalImage");
      const modalCaption =
        document.getElementById("modalCaption");
      const closeBtn = document.querySelector(
        ".modal-close"
      );
      const prevBtn = document.querySelector(
        ".modal-prev"
      );
      const nextBtn = document.querySelector(
        ".modal-next"
      );

      // Add a global variable to track the current carousel images in the modal
      let modalImages = [];
      let modalCaptions = [];
      let currentImageIndex = 0;

      // Update modal open logic to use the correct set of images
      function openModalFromCarousel(
        carouselName,
        startIdx = 0
      ) {
        // Find the correct carousel-slider
        const carousel = document.querySelector(
          `.carousel-slider[data-carousel='${carouselName}']`
        );
        if (!carousel) return;
        const slides = Array.from(
          carousel.querySelectorAll(
            ".carousel-slide"
          )
        );
        modalImages = slides.map(
          slide => slide.querySelector("img").src
        );
        modalCaptions = slides.map(
          slide =>
            slide.querySelector(
              ".gallery-caption"
            ).textContent
        );
        currentImageIndex = startIdx;
        showModalImage();
        modal.style.display = "block";
        document.body.style.overflow = "hidden";
      }

      function showModalImage() {
        modalImage.src =
          modalImages[currentImageIndex];
        modalImage.alt =
          modalCaptions[currentImageIndex];
        modalCaption.textContent =
          modalCaptions[currentImageIndex];
      }

      function closeModal() {
        modal.style.display = "none";
        document.body.style.overflow = "auto";
      }

      function showPrevImage() {
        currentImageIndex =
          (currentImageIndex -
            1 +
            modalImages.length) %
          modalImages.length;
        showModalImage();
      }

      function showNextImage() {
        currentImageIndex =
          (currentImageIndex + 1) %
          modalImages.length;
        showModalImage();
      }

      // Event listeners for modal controls
      closeBtn.addEventListener(
        "click",
        closeModal
      );
      prevBtn.addEventListener(
        "click",
        showPrevImage
      );
      nextBtn.addEventListener(
        "click",
        showNextImage
      );

      // Keyboard navigation
      document.addEventListener(
        "keydown",
        function (e) {
          if (modal.style.display === "block") {
            switch (e.key) {
              case "Escape":
                closeModal();
                break;
              case "ArrowLeft":
                showPrevImage();
                break;
              case "ArrowRight":
                showNextImage();
                break;
            }
          }
        }
      );

      // Touch/swipe support for mobile
      let touchStartX = 0;
      let touchEndX = 0;

      modalImage.addEventListener(
        "touchstart",
        function (e) {
          touchStartX =
            e.changedTouches[0].screenX;
        }
      );

      modalImage.addEventListener(
        "touchend",
        function (e) {
          touchEndX = e.changedTouches[0].screenX;
          handleSwipe();
        }
      );

      function handleSwipe() {
        const swipeThreshold = 50;
        const swipeDistance =
          touchEndX - touchStartX;

        if (
          Math.abs(swipeDistance) > swipeThreshold
        ) {
          if (swipeDistance > 0) {
            showPrevImage(); // Swipe right = previous image
          } else {
            showNextImage(); // Swipe left = next image
          }
        }
      }

      // Video modal functionality
      const videoModal =
        document.getElementById("videoModal");
      const modalVideo =
        document.getElementById("modalVideo");
      const videoModalClose =
        document.querySelector(
          ".video-modal-close"
        );

      function openVideoModal(videoElement) {
        const videoSrc =
          videoElement.querySelector(
            "source"
          ).src;
        modalVideo.querySelector("source").src =
          videoSrc;
        modalVideo.load(); // Reload the video with new source
        videoModal.style.display = "block";
        document.body.style.overflow = "hidden"; // Prevent background scrolling
      }

      function closeVideoModal() {
        videoModal.style.display = "none";
        document.body.style.overflow = "auto"; // Restore background scrolling
        modalVideo.pause(); // Pause the video when closing
        modalVideo.currentTime = 0; // Reset to beginning
      }

      // Event listeners for video modal
      videoModalClose.addEventListener(
        "click",
        closeVideoModal
      );

      // Close video modal when clicking outside the video
      videoModal.addEventListener(
        "click",
        function (e) {
          if (e.target === videoModal) {
            closeVideoModal();
          }
        }
      );

      // Close video modal with Escape key
      document.addEventListener(
        "keydown",
        function (e) {
          if (
            e.key === "Escape" &&
            videoModal.style.display === "block"
          ) {
            closeVideoModal();
          }
        }
      );

      // Dropdown toggle functionality
      function toggleDropdown(button) {
        const dropdownContent =
          button.nextElementSibling;
        const isActive =
          button.classList.contains("active");

        // Close all other dropdowns
        document
          .querySelectorAll(
            ".dropdown-button.active"
          )
          .forEach(btn => {
            if (btn !== button) {
              btn.classList.remove("active");
              btn.nextElementSibling.classList.remove(
                "active"
              );
            }
          });

        // Toggle current dropdown
        if (isActive) {
          button.classList.remove("active");
          dropdownContent.classList.remove(
            "active"
          );
        } else {
          button.classList.add("active");
          dropdownContent.classList.add("active");
        }
      }

      // Overlay play icon logic for trash video
      const playOverlay = document.getElementById(
        "video-play-overlay"
      );

      function showPlayOverlay() {
        playOverlay.style.display = "flex";
      }
      function hidePlayOverlay() {
        playOverlay.style.display = "none";
      }

      // Show overlay initially
      showPlayOverlay();

      // Open video modal from preview image
      function openVideoModalFromPreview() {
        const videoSrc =
          "public/video/trash-disposal-guide.mp4";
        modalVideo.querySelector("source").src =
          videoSrc;
        modalVideo.load(); // Reload the video with new source
        videoModal.style.display = "block";
        document.body.style.overflow = "hidden"; // Prevent background scrolling
      }

      // Overlay play icon logic for garage video
      const garagePlayOverlay =
        document.getElementById(
          "garage-video-play-overlay"
        );

      function showGaragePlayOverlay() {
        garagePlayOverlay.style.display = "flex";
      }
      function hideGaragePlayOverlay() {
        garagePlayOverlay.style.display = "none";
      }

      // Show overlay initially
      showGaragePlayOverlay();

      // Open video modal from preview image
      function openGarageVideoModalFromPreview() {
        const videoSrc =
          "public/video/garage-access-parking-Info.mp4";
        modalVideo.querySelector("source").src =
          videoSrc;
        modalVideo.load();
        videoModal.style.display = "block";
        document.body.style.overflow = "hidden";
      }

      // Carousel functionality
      class Carousel {
        constructor(root) {
          this.root = root;
          this.track = root.querySelector(
            ".carousel-track"
          );
          this.slides = Array.from(
            this.track.children
          );
          this.prevBtn = root.querySelector(
            ".carousel-control.prev"
          );
          this.nextBtn = root.querySelector(
            ".carousel-control.next"
          );
          this.current = 0;
          this.total = this.slides.length;
          this.update();
          this.prevBtn.addEventListener(
            "click",
            () => this.goTo(this.current - 1)
          );
          this.nextBtn.addEventListener(
            "click",
            () => this.goTo(this.current + 1)
          );
          // Swipe support
          let startX = 0;
          this.track.addEventListener(
            "touchstart",
            e => {
              startX = e.touches[0].clientX;
            }
          );
          this.track.addEventListener(
            "touchend",
            e => {
              const dx =
                e.changedTouches[0].clientX -
                startX;
              if (dx > 40)
                this.goTo(this.current - 1);
              else if (dx < -40)
                this.goTo(this.current + 1);
            }
          );
        }
        goTo(idx) {
          this.current =
            (idx + this.total) % this.total;
          this.update();
        }
        update() {
          this.slides.forEach((slide, i) => {
            slide.style.display =
              i === this.current
                ? "flex"
                : "none";
          });
        }
      }
      document
        .querySelectorAll(".carousel-slider")
        .forEach(root => new Carousel(root));

      // Update click event for images in carousels to open modal with correct set
      document
        .querySelectorAll(".carousel-slider")
        .forEach(carousel => {
          const carouselName =
            carousel.getAttribute(
              "data-carousel"
            );
          carousel
            .querySelectorAll(".gallery-image")
            .forEach((img, idx) => {
              img.style.cursor = "pointer";
              img.addEventListener("click", () =>
                openModalFromCarousel(
                  carouselName,
                  idx
                )
              );
            });
        });
    </script>
  </body>
</html>
